{{- $show := default true (default .Site.Params.ShowSiteInfo .Params.ShowSiteInfo) -}}
{{- if $show -}}
  <div class="sideblock">
    {{- with .Site.Params.description -}}<p>{{- . -}}</p>{{- end -}}

    {{- $scratch := newScratch -}}
    {{- $pages := where site.RegularPages "Type" "in" site.Params.mainSections -}}
    {{- if site.Params.CountAllPages -}}
      {{- $pages = site.RegularPages -}}
    {{- end -}}
    {{- range $pages -}}
      {{- if not .Params.ai -}}
        {{- $scratch.Add "total" .WordCount -}}
      {{- end -}}
    {{- end -}}
    <p>
      {{- $scratch.Get "total" }} words in
      <a href="/archive">{{ len $pages -}}</a>
      {{- if not site.Params.CountAllPages }}
        main
      {{- end }}
      posts.
    </p>

    {{- $num := (len .Site.Taxonomies ) -}}
    {{- $scratch2 := newScratch -}}
    {{- range .Site.Taxonomies -}}
      {{- $scratch2.Add "total" (len .) -}}
    {{- end -}}
    <p>
      {{- $scratch2.Get "total" }} terms in
      {{ $num }}
      <a href="/taxonomies">taxonomies</a>.
    </p>

    {{- with .Site.Params.social -}}
      <p>
        contact:
        {{- range . }}
          <a href="{{- .url -}}" target="_blank" rel="noopener"
            >{{- .name -}}</a
          >
        {{ end -}}
      </p>
    {{- end -}}
  </div>
{{- end -}}
