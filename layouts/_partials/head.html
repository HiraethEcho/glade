<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>{{ if .IsHome }}{{ site.Title }}{{ else }}{{ printf "%s | %s" .Title site.Title }}{{ end }}</title>
{{ partialCached "head/css.html" . }}
{{ partialCached "head/js.html" . }}

{{- $password := .Params.password | default "" -}} 
{{- if ne $password "" -}}
<script>
  (function(){
    if('{{ $password| safeJS }}'){
      if (prompt('请输入文章密码') != '{{ $password | safeJS }}'){
        alert('密码错误！');
        if (history.length === 1) {
          window.opener = null;
          window.open('', '_self');
          window.close();
        } else {
          history.back();
        }
      }
    }
  })();
</script>
{{- end -}}
