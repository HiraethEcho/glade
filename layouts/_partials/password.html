{{- $password := .Params.password | default "" -}} 
{{- if ne $password "" -}}
<script>
  (function(){
    if('{{ $password| safeJS }}'){
      if (prompt('请输入文章密码') != '{{ $password | safeJS }}'){
        alert('密码错误！');
        if (history.length === 1) {
          window.opener = null;
          window.open('', '_self');
          window.close();
        } else {
          history.back();
        }
      }
    }
  })();
</script>
{{- end -}}
