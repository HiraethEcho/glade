{{- $show := default true (default .Site.Params.ShowSiteNav .Params.ShowSiteNav) -}}
{{- if $show -}}
  <div class="sideblock">
    <menu>
      {{- with site.Menus.side -}}
        {{- partial "menu-side.html" . -}}
      {{- end -}}
    </menu>
  </div>
{{- end -}}

{{- define "_partials/menu-side.html" -}}
  {{- range . -}}
    <li>
      {{- if .HasChildren -}}
        <details class="menu-fold">
          <summary>{{- .Name -}}</summary>
          <menu class="indentline">
            {{- with .Children -}}
              {{- partial "menu-side.html" . -}}
            {{- end -}}
          </menu>
        </details>
      {{- else -}}
        <a class="sidelink" href="{{- .URL -}}">{{- .Name -}}</a>
      {{- end -}}
    </li>
  {{- end -}}
{{- end -}}
