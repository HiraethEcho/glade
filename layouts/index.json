{{- $.Scratch.Add "index" slice -}}
{{- range site.RegularPages -}}
  {{- if and (not .Params.searchHidden) (ne .Layout `archive`) (ne .Layout `about`) -}}
    {{- $.Scratch.Add "index" (dict "title" .Title
                                    "tags" .Params.tags
                                    "file" .File.BaseFileName
                                    "categories" .Params.categories
                                    "summary" .Params.summary
                                    "permalink" .RelPermalink
                                    "content"  .Plain)
      -}}
  {{- end -}}
{{- end -}}
{{- $.Scratch.Get "index" | jsonify -}}
